@model WebApplication1.Models.BasicSettingViewModels.PersonalDataCreateViewModel
@{
    ViewData["Title"] = "新增員工個人資料";
}

<form asp-action="CreatePersonalData" asp-asp-controller="BasicSetting" method="post" id="app">
    <section class="content">
        <div class="card-body">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="ShiftName" class="control-label"></label>
                <select class="form-control" asp-for="ShiftScheduleId" asp-items="@Model.ShiftNameSelectItems"></select>
                <span class="text-danger"></span>
            </div>  
            <div class="form-group">
                <label asp-for="DepartmentName" class="control-label"></label>
                <select class="form-control" asp-for="DepartmentId" asp-items="@Model.DepartmentNameSelectItem"></select>
                <span class="text-danger"></span>
            </div>            
            <div class="form-group">
                <label asp-for="Name" class="control-label"></label>
                <input name="Name" class="form-control" />
                <span asp-validation-for="Name" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="HireDate" class="control-label"></label>
                <input name="HireDate" class="form-control" id="dateInput" />
                <span asp-validation-for="HireDate" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Email" class="control-label"></label>
                <input name="Email" class="form-control" />
                <span asp-validation-for="Email" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label class="control-label">性別</label>
                <select asp-for="Gender" asp-items="@Model.GenderSelectItems" class="form-control"></select>
                <span class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="EmployeesNo" class="control-label"></label>
                <input name="EmployeesNo" class="form-control" />
                <span asp-validation-for="EmployeesNo" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input type="submit" value="新增" class="btn btn-primary" />
            </div>
        </div>
        <div>
            <a asp-action="ListPersonalData" asp-controller="BasicSetting"></a>
        </div>
    </section>
</form>
@section Scripts{
    <script>

        $(function () {
            $('#dateInput').daterangepicker({
                singleDatePicker: true,
                locale: {
                    format: 'YYYY/MM/DD'
                }
            });
        });
    </script>

    <script>
        Vue.createApp({
            data() {
                return {
                    genderSelectItems: [],
                }
            },
            mounted() {
                fetch("/api/PersonalDataApi/DropDownList").then(res => res.json())
                    .then(result => {
                        this.genderSelectItems = result.genderSelectItems;
                    })
            }
        }).mount("#app");
    </script>
}
